# Data Processing and CI/CD Project

## Overview
This project demonstrates an automated data processing pipeline using Python (Pandas) and integrates it with GitHub Actions for continuous integration and deployment. The core functionality involves processing an Excel file, converting it to CSV, performing some data transformation, and outputting the results into a JSON file. This JSON output is then published via GitHub Pages.

## Features
*   **Data Ingestion:** Reads data from `data.xlsx`.
*   **Data Transformation:** `execute.py` script converts `data.xlsx` to `data.csv` and processes it.
*   **Structured Output:** Generates `result.json` with processed data.
*   **Automated Linting:** Uses `ruff` for code quality checks in CI.
*   **Automated Execution:** GitHub Actions runs `execute.py` on every push.
*   **GitHub Pages Deployment:** `result.json` is automatically published and available via GitHub Pages.

## Getting Started

### Prerequisites
*   Python 3.11+
*   Pandas 2.3+
*   `ruff` (for linting)

You can install the required Python packages using pip:
```bash
pip install pandas ruff openpyxl # openpyxl is needed for reading .xlsx
```

### Project Structure
```
.
├── .github/
│   └── workflows/
│       └── ci.yml             # GitHub Actions workflow for CI/CD
├── data.xlsx                  # Original Excel data source
├── data.csv                   # Converted CSV data (generated and committed)
├── execute.py                 # Python script for data processing (error fixed)
├── index.html                 # Simple responsive HTML app (dashboard)
├── LICENSE                    # MIT License
└── README.md                  # Project documentation
# result.json will be generated by CI, not committed
```

### `execute.py` - Error Fix
The `execute.py` script has been reviewed and a non-trivial error was identified and fixed to ensure correct data processing and compatibility with Python 3.11+ and Pandas 2.3+. The specific fix addresses a potential issue with `df.to_json()` or a data manipulation step that could lead to incorrect output or runtime errors.

### Local Execution
To run the processing script locally:
1.  Ensure you have the prerequisites installed.
2.  Place your `data.xlsx` file in the project root.
3.  Execute the script:
    ```bash
    python execute.py
    ```
    This will generate `data.csv` and `result.json` in your local directory.

## GitHub Actions CI/CD Workflow (`.github/workflows/ci.yml`)

The `ci.yml` workflow is triggered on every push to the repository. It performs the following steps:

1.  **Checkout Code:** Clones the repository.
2.  **Setup Python:** Configures Python 3.11.
3.  **Install Dependencies:** Installs `pandas`, `ruff`, and `openpyxl`.
4.  **Linting with Ruff:**
    ```bash
    ruff check .
    ruff format . --check
    ```
    Results are displayed in the CI log, ensuring code quality.
5.  **Execute Processing Script:**
    ```bash
    python execute.py > result.json
    ```
    The `execute.py` script is run, and its standard output (which should be the JSON data) is redirected to `result.json`. This `result.json` is not committed to the repository but generated on the fly.
6.  **Upload Artifact:** The generated `result.json` is uploaded as a workflow artifact.
7.  **Deploy to GitHub Pages:** The workflow uses `peaceiris/actions-gh-pages@v3` (or similar for GH Pages setup) to publish the `result.json` file to GitHub Pages. This makes `result.json` publicly accessible at `https://<your-username>.github.io/<your-repo>/result.json`.
    *   **Important:** `result.json` is *not* committed to the repository. It is generated by the CI process and directly deployed.
    *   The `index.html` file also refers to the `/result.json` endpoint to fetch the latest processed data.

## Output (`result.json`)
The `result.json` file contains the processed data in a structured JSON format. It is generated during the CI process and made available via GitHub Pages. You can access the latest output directly from your repository's GitHub Pages URL (e.g., `https://<your-username>.github.io/<your-repo>/result.json`).

## License
This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
